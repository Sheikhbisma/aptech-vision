<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Intermediate Past Papers</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    .custom-card {
      border: none;
      border-radius: 20px;
      transition: all 0.3s ease-in-out;
      overflow: hidden;
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.1);
      min-height: 250px;
    }
    .custom-card:hover {
      transform: scale(1.06);
      box-shadow: 0 18px 36px rgba(0, 0, 0, 0.2);
    }
    .card-header {
      background-color: #0d6efd;
      color: white;
      font-size: 1.5rem;
      padding: 20px;
      font-weight: bold;
    }
    .card-body {
      padding: 30px;
      font-size: 1.2rem;
    }
    .btn-primary {
      font-size: 1rem;
      padding: 12px 25px;
    }
    .subject-title {
      font-size: 2rem;
      font-weight: 600;
      color: #333;
      margin-top: 30px;
      border-left: 5px solid #0d6efd;
      padding-left: 15px;
    }
    @media (max-width: 768px) {
      .card-header {
        font-size: 1.3rem;
      }
      .card-body {
        font-size: 1rem;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
<div class="container py-5">
  <h2 class="text-center mb-5">ðŸ“š Intermediate Past Papers Archive</h2>

  <!-- Filters -->
  <div class="row mb-4">
    <div class="col-md-4 mb-2">
      <select id="classFilter" class="form-select">
        <option value="all">Filter by Class</option>
        <option value="first">First Year</option>
        <option value="second">Second Year</option>
      </select>
    </div>
    <div class="col-md-4 mb-2">
      <select id="facultyFilter" class="form-select">
        <option value="all">Filter by Faculty</option>
        <option value="science">Science</option>
        <option value="arts">Arts</option>
        <option value="commerce">Commerce</option>
      </select>
    </div>
    <div class="col-md-4 mb-2">
      <select id="subjectFilter" class="form-select">
        <option value="all">Filter by Subject</option>
      </select>
    </div>
  </div>

  <!-- Papers Container -->
  <div id="papersContainer"></div>
</div>

<script>
  let data = [];

  const classFilter = document.getElementById('classFilter');
  const facultyFilter = document.getElementById('facultyFilter');
  const subjectFilter = document.getElementById('subjectFilter');
  const papersContainer = document.getElementById('papersContainer');

  function getFilteredSubjects() {
    const selectedClass = classFilter.value;
    const selectedFaculty = facultyFilter.value;

    return data.filter(sub => 
      (selectedClass === 'all' || sub.class === selectedClass) &&
      (selectedFaculty === 'all' || sub.faculty === selectedFaculty)
    );
  }

  function updateSubjectDropdown() {
    const filtered = getFilteredSubjects();
    subjectFilter.innerHTML = `<option value="all">Filter by Subject</option>`;
    const uniqueSubjects = [...new Set(filtered.map(sub => sub.name))];

    uniqueSubjects.forEach(name => {
      const sub = filtered.find(s => s.name === name);
      const opt = document.createElement('option');
      opt.value = sub.value;
      opt.textContent = sub.name;
      subjectFilter.appendChild(opt);
    });
  }

  function renderCards() {
  const selectedClass = classFilter.value;
  const selectedFaculty = facultyFilter.value;
  const selectedSubject = subjectFilter.value;

  const filteredSubjects = data.filter(sub =>
    (selectedClass === 'all' || sub.class === selectedClass) &&
    (selectedFaculty === 'all' || sub.faculty === selectedFaculty) &&
    (selectedSubject === 'all' || sub.value === selectedSubject)
  );

  papersContainer.innerHTML = '';

  filteredSubjects.forEach(sub => {
    const title = `<h3 class="subject-title">${sub.name} (${sub.class.charAt(0).toUpperCase() + sub.class.slice(1)} Year)</h3>`;
    const cardHTML = `
      <div class="row mb-4">
        <div class="col-md-6">
          <div class="card custom-card">
            <div class="card-header">${sub.name} - 2023</div>
            <div class="card-body">
              <p class="card-text"><span class="badge bg-primary">Faculty: ${sub.faculty}</span></p>
              <a href="${sub.papers['2023']}" download class="btn btn-primary">ðŸ“¥ Download Paper</a>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card custom-card">
            <div class="card-header">${sub.name} - 2022</div>
            <div class="card-body">
              <p class="card-text"><span class="badge bg-primary">Faculty: ${sub.faculty}</span></p>
              <a href="${sub.papers['2022']}" download class="btn btn-primary">ðŸ“¥ Download Paper</a>
            </div>
          </div>
        </div>
      </div>
    `;
    papersContainer.innerHTML += title + cardHTML;
  });
}

</script>

</body>
</html>
